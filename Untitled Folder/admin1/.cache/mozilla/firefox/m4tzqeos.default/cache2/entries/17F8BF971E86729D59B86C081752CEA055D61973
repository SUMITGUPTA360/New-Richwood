/** Auxiliary.js **/

if (typeof cs_ie_cors_fix == 'undefined') {
    if (!jQuery.support.cors && window.XDomainRequest) {
    var httpRegEx = /^https?:\/\//i;
    var getOrPostRegEx = /^get|post$/i;
        var sameSchemeRegEx = new RegExp('^' + location.protocol, 'i');
        var jsonRegEx = /\/json/i;
    var xmlRegEx = /\/xml/i;

    // ajaxTransport exists in jQuery 1.5+
        jQuery.ajaxTransport('text html xml json',
                function(options, userOptions, jqXHR) {
        // XDomainRequests must be: asynchronous, GET or POST methods, HTTP or HTTPS protocol, and same scheme as calling page
                    if (options.crossDomain && options.async && getOrPostRegEx.test(options.type) && httpRegEx.test(userOptions.url)
                            && sameSchemeRegEx.test(userOptions.url)) {
            var xdr = null;
                        var userType = (userOptions.dataType || '').toLowerCase();
            return {
                            send : function(headers, complete) {
                    xdr = new XDomainRequest();
                    if (/^\d+$/.test(userOptions.timeout)) {
                        xdr.timeout = userOptions.timeout;
                    }
                                xdr.ontimeout = function() {
                        complete(500, 'timeout');
                    };
                                xdr.onload = function() {
                        var allResponseHeaders = 'Content-Length: ' + xdr.responseText.length + '\r\nContent-Type: ' + xdr.contentType;
                        var status = {
                                        code : 200,
                                        message : 'success'
                        };
                        var responses = {
                                        text : xdr.responseText
                        };
                        /*
                                     * if (userType === 'html') { responses.html = xdr.responseText; } else
                        */
                        try {
                                        if ((userType === 'json') || ((userType !== 'text') && jsonRegEx.test(xdr.contentType))) {
                                try {
                                    responses.json = JSON.parse(xdr.responseText);
                                            } catch (e) {
                                    status.code = 500;
                                    status.message = 'parseerror';
                                                // throw 'Invalid JSON: ' + xdr.responseText;
                                }
                            } else if ((userType === 'xml') || ((userType !== 'text') && xmlRegEx.test(xdr.contentType))) {
                                var doc = new ActiveXObject('Microsoft.XMLDOM');
                                doc.async = false;
                                try {
                                    doc.loadXML(xdr.responseText);
                                            } catch (e) {
                                    doc = undefined;
                                }
                                if (!doc || !doc.documentElement || doc.getElementsByTagName('parsererror').length) {
                                    status.code = 500;
                                    status.message = 'parseerror';
                                    throw 'Invalid XML: ' + xdr.responseText;
                                }
                                responses.xml = doc;
                            }
                                    } catch (parseMessage) {
                            throw parseMessage;
                        } finally {
                            complete(status.code, status.message, responses, allResponseHeaders);
                        }
                    };
                                xdr.onerror = function() {
                        complete(500, 'error', {
                                        text : xdr.responseText
                        });
                    };
                                // var postData = (userOptions.data && jQuery.param(userOptions.data)) || '';
                                var postData = (userOptions.data) || '';
                                xdr.open(options.type, options.url);
                                xdr.send(postData);
                },
                            abort : function() {
                    if (xdr) {
                        xdr.abort();
                    }
                }
            };
        }
    });
  }
}

(function() {
  var D = new Date('2011-06-02T09:34:29+02:00');
  if (!D || +D !== 1307000069000) {
    Date.fromISO = function(s) {
      var day, tz, rx = /^(\d{4}\-\d\d\-\d\d([tT ][\d:\.]*)?)([zZ]|([+\-])(\d\d):(\d\d))?$/, p = rx.exec(s) || [];
      if (p[1]) {
        day = p[1].split(/\D/);
        for ( var i = 0, L = day.length; i < L; i++) {
          day[i] = parseInt(day[i], 10) || 0;
        }
        ;
        day[1] -= 1;
        day = new Date(Date.UTC.apply(Date, day));
        if (!day.getDate())
          return NaN;
        if (p[5]) {
          tz = (parseInt(p[5], 10) * 60);
          if (p[6])
            tz += parseInt(p[6], 10);
          if (p[4] == '+')
            tz *= -1;
          if (tz)
            day.setUTCMinutes(day.getUTCMinutes() + tz);
        }
        return day;
      }
      return NaN;
    }
  } else {
    Date.fromISO = function(s) {
      return new Date(s);
    }
  }
})()

function consoleInfo(msg) {
	if (typeof (console) != 'undefined') {
		console.info(msg);
	}
}

function consoleWarn(msg) {
	if (typeof (console) != 'undefined') {
		console.warn(msg);
	}
}

function consoleError(msg) {
	if (typeof (console) != 'undefined') {
		console.error(msg);
	}
}

//	Fire event
function fireEvent(element,event){
	if(document.createEvent){
		// dispatch for firefox + others
		var evt = document.createEvent('HTMLEvents');
		evt.initEvent(event, true, true ); // event type,bubbling,cancelable
		return !element.dispatchEvent(evt);
	}
	else{
		// dispatch for IE
		var evt = document.createEventObject();
		return element.fireEvent('on'+event,evt)
	}
}

function getIEVersion() {
	var ieVersion = null;
  var ua = navigator.userAgent;
  if (/MSIE (\d+\.\d+);/.test(ua)) { //test for MSIE x.x;
    ieVersion=new Number(RegExp.$1) // capture x.x portion and store as a number
  }
  if (ieVersion==null) {
    // IE 11 check
    if (navigator.appName == 'Netscape')
    {
      var re  = new RegExp("Trident/.*rv:([0-9]{1,}[\.0-9]{0,})");
      if (re.exec(ua) != null)
        ieVersion = parseFloat( RegExp.$1 );
    }
  }
  return ieVersion;
}

function loadScript(sScriptSrc, oCallback) {
  var oHead = $("head")[0];
  var oScript = document.createElement('script');
  oScript.type = 'text/javascript';
  oScript.src = sScriptSrc;
  var ieVersion = getIEVersion();
  if (ieVersion == null || ieVersion > 8) {
    // most browsers
    oScript.onload = oCallback;
  } else {
    // IE 8 and earlier
    oScript.onreadystatechange = function() {
      if (this.readyState == 'complete') {
        oCallback();
      }
    }
  }
  oHead.appendChild(oScript);
}

function isRequestURL() {
	return (location.pathname.indexOf('/requests') > -1 || location.pathname.indexOf('/anonymous_requests') > -1 );
}

function isExistingRequestURL() {
	return (((location.pathname.indexOf('/new') == -1) && (location.pathname.indexOf('/requests/') > -1)));
}

function isClosedTicketURL() {
	return ((location.pathname.indexOf('/tickets') > -1) && ($('submit_form') == null));
}

// Add a global function to act as a context for defining Help Center Backbone widgets
if (typeof this.CloudsetHC == 'undefined') {
	this.CloudsetHC = function() {};
}

function parseEntityIdFromUrl(url) {
	result = "";
	var pos = url.lastIndexOf('/');
	if (pos>-1) {
		var result = url.substring(pos+1);
		var pos1 = result.indexOf('-');
		if (pos1>-1) {
			result = result.substring(0,pos1);
		}
	}
	return result;
}

function getMonthName(pos) {
	switch(pos) {
	case 0: return 'Jan';
	case 1: return 'Feb';
	case 2: return 'Mar';
	case 3: return 'Apr';
	case 4: return 'May';
	case 5: return 'Jun';
	case 6: return 'Jul';
	case 7: return 'Aug';
	case 8: return 'Sep';
	case 9: return 'Oct';
	case 10: return 'Nov';
	case 11: return 'Dec';
	}
}

function getDayName(pos) {
	switch (pos) {
	case 0: return 'Sun';
	case 1: return 'Mon';
	case 2: return 'Tue';
	case 3: return 'Wed';
	case 4: return 'Thu';
	case 5: return 'Fri';
	case 6: return 'Sat';
	}
}

function getParameterByName(name) {
  name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
  var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"), results = regex.exec(location.search);
  return results == null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
}

// String Utility functions defined on prototype if not already present

/** Clip to the supplied length and add suspension marks */
//if (typeof String.prototype.clipTo !== 'function') {
//  String.prototype.clipTo = function(maxlength) {
//    var result = this;
//    if (this.length > maxlength) {
//      result = this.substring(0,maxlength-3)+"...";
//    }
//    return result;
//  };
//}
/** Return true if the string starts with the supplied str prefix */
//if (typeof String.prototype.startsWith !== 'function') {  
//  String.prototype.startsWith = function(str) {
//    var result = false;
//    if (str) {
//      var l = str.length;
//      if (l<this.length) {
//        var start = this.substring(0, l);
//        return start===str;
//      }
//    }
//    return false;
//  };
//}
/** Return true if string ends with supplied suffix */  
//if (typeof String.prototype.endsWith !== 'function') {
//  String.prototype.endsWith = function(suffix) {
//    return this.indexOf(suffix, this.length - suffix.length) !== -1;
//  };
//}


function getBrandIdFromHost(host,jBrandsStr) {
    jBrands = JSON.parse(jBrandsStr);
    for (var i=0; i<jBrands.length; i++) {
        var jBrand = jBrands[i];
        if (host===jBrand.subdomain || host===jBrand.host_mapping) {
            return jBrand.id;
        }
    }
    return null;
}

function getBrandId(jBrandsStr) {
    var host = location.host;
    return getBrandIdFromHost(host,jBrandsStr);
}


htmlEncode = function(value) {
  return value==null?null:value.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
};

htmlDecode = function(value) {
    return value==null?null:value.replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g,'>');
};•G9¡f      Y{DY{D=²bªY{D   A:https://prod.global.ssl.fastly.net/script/auxiliary/auxiliary.js necko:classified 1 security-info FnhllAKWRHGAlo+ESXykKAAAAAAAAAAAwAAAAAAAAEaphjojH6pBabDSgSnsfLHeAAQAAgAAAAAAAAAAAAAAAAAAAAAB4vFIJp5wRkeyPxAQ9RJGKPqbqVvKO0mKuIl8ec8o/uhmCjImkVxP+7sgiYWmMt8F+O2DZM7ZTG6GukivU8OT5gAAAAAAAAvtMIIL6TCCCtGgAwIBAgIQBigdNnW0H8yz/xj67Pj93zANBgkqhkiG9w0BAQsFADBwMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMS8wLQYDVQQDEyZEaWdpQ2VydCBTSEEyIEhpZ2ggQXNzdXJhbmNlIFNlcnZlciBDQTAeFw0xNDEyMDgwMDAwMDBaFw0xODAyMDYxMjAwMDBaMGwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4gRnJhbmNpc2NvMRUwEwYDVQQKEwxGYXN0bHksIEluYy4xGTAXBgNVBAMTEGEuc3NsLmZhc3RseS5uZXQwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDUJUiQsaVP/vC4Mb3aJUmA9KnMQa7EJfjYLsE4F0VehrOp8jlSSXmQLELlUAwPp2F2PNyB32DDOFBHZIYwFrApFEzsJdTKQUYk6xHPZOdYoIijpmfb5xRMdTjqxThGkk+khU0+ipPWiErJNRkapLgPwPD4ctd5X8rnKF8lMHIxx5Xhdg6PqZC3F7y45Nym2a3M8xIKIkB77o1bkuDpGnV9ZESC/Yf9Mc4NmWrQjqQc+8yIabir+n7/YcM5UdUjZPNShgL4jLYVJ+KDRZcjIT/dXRZoPpJgRFL9NIep/eSAzQa3g659uW7tjN6tg5iQm4hwksaWp+zfTAJc4IXNtlndAgMBAAGjggiBMIIIfTAfBgNVHSMEGDAWgBRRaP+QrwIHdTzM2WVkYqISuFlyOzAdBgNVHQ4EFgQUwIj0Y03ka1Q28RLCtKWy4nN7FIgwggaxBgNVHREEggaoMIIGpIIQYS5zc2wuZmFzdGx5Lm5ldIISKi5hLnNzbC5mYXN0bHkubmV0gg9mYXN0Lndpc3RpYS5jb22CEHB1cmdlLmZhc3RseS5uZXSCEm1pcnJvcnMuZmFzdGx5Lm5ldIIOKi5wYXJzZWNkbi5jb22CDSouZmFzdHNzbC5uZXSCCXZveGVyLmNvbYINd3d3LnZveGVyLmNvbYIOKi5maXJlYmFzZS5jb22CEHNpdGVzLnlhbW1lci5jb22CGHNpdGVzLnN0YWdpbmcueWFtbWVyLmNvbYIPKi5za2ltbGlua3MuY29tghMqLnNraW1yZXNvdXJjZXMuY29tghBjZG4udGhpbmdsaW5rLm1lggwqLmZpdGJpdC5jb22CEiouaG9zdHMuZmFzdGx5Lm5ldIISY29udHJvbC5mYXN0bHkubmV0gg8qLndpa2lhLWluYy5jb22CFSoucGVyZmVjdGF1ZGllbmNlLmNvbYILKi53aWtpYS5jb22CEmYuY2xvdWQuZ2l0aHViLmNvbYIVKi5kaWdpdGFsc2Npcm9jY28ubmV0ggoqLmV0c3kuY29tghAqLmV0c3lzdGF0aWMuY29tgg0qLmFkZHRoaXMuY29tghAqLmFkZHRoaXNjZG4uY29tgg9mYXN0Lndpc3RpYS5uZXSCDnJhdy5naXRodWIuY29tgg93d3cudXNlcmZveC5jb22CEyouYXNzZXRzLXlhbW1lci5jb22CGyouc3RhZ2luZy5hc3NldHMteWFtbWVyLmNvbYIWYXNzZXRzLmh1Z2dpZXMtY2RuLm5ldIISb3JiaXQuc2hhemFtaWQuY29tgg9hYm91dC5qc3Rvci5vcmeCFyouZ2xvYmFsLnNzbC5mYXN0bHkubmV0gg13ZWIudm94ZXIuY29tgg9weXBpLnB5dGhvbi5vcmeCCyouMTJ3YnQuY29tghJ3d3cuaG9sZGVyZGVvcmQubm+CGnNlY3VyZWQuaW5kbi5pbmZvbGlua3MuY29tghBwbGF5LnZpZHlhcmQuY29tghhwbGF5LXN0YWdpbmcudmlkeWFyZC5jb22CFXNlY3VyZS5pbWcud2ZyY2RuLmNvbYIWc2VjdXJlLmltZy5qb3NzY2RuLmNvbYIQKi5nb2NhcmRsZXNzLmNvbYIVd2lkZ2V0cy5waW50ZXJlc3QuY29tgg4qLjdkaWdpdGFsLmNvbYINKi43c3RhdGljLmNvbYIPcC5kYXRhZG9naHEuY29tghBuZXcubXVsYmVycnkuY29tghJ3d3cuc2FmYXJpZmxvdy5jb22CEmNkbi5jb250ZW50ZnVsLmNvbYIQdG9vbHMuZmFzdGx5Lm5ldIISKi5odWV2b3NidWVub3MuY29tgg4qLmdvb2RlZ2dzLmNvbYIWKi5mYXN0bHkucGljbW9ua2V5LmNvbYIVKi5jZG4ud2hpcHBsZWhpbGwubmV0ghEqLndoaXBwbGVoaWxsLm5ldIIbY2RuLm1lZGlhMzQud2hpcHBsZWhpbGwubmV0ghtjZG4ubWVkaWE1Ni53aGlwcGxlaGlsbC5uZXSCG2Nkbi5tZWRpYTc4LndoaXBwbGVoaWxsLm5ldIIcY2RuLm1lZGlhOTEwLndoaXBwbGVoaWxsLm5ldIIOKi5tb2RjbG90aC5jb22CDyouZGlzcXVzY2RuLmNvbYILKi5qc3Rvci5vcmeCDyouZHJlYW1ob3N0LmNvbYIOd3d3LmZsaW50by5jb22CDyouY2hhcnRiZWF0LmNvbYINKi5oaXBtdW5rLmNvbYIaY29udGVudC5iZWF2ZXJicm9va3MuY28udWuCG3NlY3VyZS5jb21tb24uY3Nuc3RvcmVzLmNvbYIOd3d3LmpvaW5vcy5jb22CJXN0YWdpbmctbW9iaWxlLWNvbGxlY3Rvci5uZXdyZWxpYy5jb22CDioubW9kY2xvdGgubmV0ghAqLmZvdXJzcXVhcmUuY29tggwqLnNoYXphbS5jb22CCiouNHNxaS5uZXSCDioubWV0YWNwYW4ub3JnggwqLmZhc3RseS5jb22CCXdpa2lhLmNvbYIKZmFzdGx5LmNvbYIRKi5nYWR2ZW50dXJlcy5jb22CFnd3dy5nYWR2ZW50dXJlcy5jb20uYXWCFXd3dy5nYWR2ZW50dXJlcy5jby51a4IJa3JlZG8uY29tghZjZG4tdGFncy5icmFpbmllbnQuY29tghRteS5iaWxsc3ByaW5nYXBwLmNvbYIGcnZtLmlvMA4GA1UdDwEB/wQEAwIFoDAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIwdQYDVR0fBG4wbDA0oDKgMIYuaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL3NoYTItaGEtc2VydmVyLWc1LmNybDA0oDKgMIYuaHR0cDovL2NybDQuZGlnaWNlcnQuY29tL3NoYTItaGEtc2VydmVyLWc1LmNybDBMBgNVHSAERTBDMDcGCWCGSAGG/WwBATAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy5kaWdpY2VydC5jb20vQ1BTMAgGBmeBDAECAjCBgwYIKwYBBQUHAQEEdzB1MCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wTQYIKwYBBQUHMAKGQWh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFNIQTJIaWdoQXNzdXJhbmNlU2VydmVyQ0EuY3J0MAwGA1UdEwEB/wQCMAAwDQYJKoZIhvcNAQELBQADggEBAKLWzbX7wSyjzE7BVMjLrHAaiz+WGSwrAPrQBJ29sqouu9gvI7i2Ie6eiRb4YLMouy6D+ZNZ+RM+Hkjv+PZFxCcDRmaWi+74ha5d8O155gRJRPZ0Sy5SfD/8kqrJRfC+/D/KdQzOroD4sx6Qprs9lZ0IEn4CTf0YPNV+Cps37LsVyPJLfjDlGIM5K3B/vtZfn2f8buQ9QyKiN0bc67GdCjih9dSrkQNkxJiEOwqiSjYtkdFOdYpXF8d1rQKV7a6z2vJloDwilfXLLlUX7rA3qVu7r4EUfIsZgH7hgB4bbst7tx+7PgUEq2334kKPVFpsxgsj5++k4lh7tNlakXiBUtzALwADAAAAAAEBAAA= request-method GET response-head HTTP/1.1 200 OK
Content-Type: application/javascript
Etag: W/"10871-1492972312000"
Last-Modified: Sun, 23 Apr 2017 18:31:52 GMT
Server: Apache-Coyote/1.1
Content-Length: 10871
Accept-Ranges: bytes
Date: Thu, 27 Apr 2017 13:17:47 GMT
Via: 1.1 varnish
Age: 2049
X-Served-By: cache-sin18032-SIN
X-Cache: HIT
X-Cache-Hits: 11
X-Timer: S1493299068.720418,VS0,VE0
 uncompressed-len 0   *w